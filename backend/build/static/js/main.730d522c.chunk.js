(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(2),i=n.n(o),r=n(14),u=n.n(r),a=(n(20),n(3)),s=n(4),d=n.n(s),j="/api/persons",b=function(){return d.a.get(j).then((function(e){return e.data}))},l=function(e){return d.a.post(j,e).then((function(e){return e.data}))},h=function(e){return d.a.delete("".concat(j,"/").concat(e))},f=function(e){var t=e.message;return""===t?null:Object(c.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},O=function(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],r=Object(o.useState)(""),u=Object(a.a)(r,2),s=u[0],d=u[1],j=Object(o.useState)(""),O=Object(a.a)(j,2),m=O[0],g=O[1],v=Object(o.useState)(""),x=Object(a.a)(v,2),p=x[0],S=x[1],w=Object(o.useState)(""),C=Object(a.a)(w,2),k=C[0],y=C[1];Object(o.useEffect)((function(){b().then((function(e){i(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(f,{message:k}),Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{value:p,onChange:function(e){return S(e.target.value)}})]}),Object(c.jsx)("h2",{children:"Add New"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:s,number:m};n.some((function(e){return e.name===s}))?alert("".concat(s," is already added to phonebook")):(y("Added ".concat(t.name)),l(t).then((function(e){console.log(e),i(n.concat(e))})),setTimeout((function(){y("")}),3e3)),d(""),g("")},children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:s,onChange:function(e){d(e.target.value)}})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:m,onChange:function(e){g(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)("ul",{children:n.filter((function(e){return e.name.toLowerCase().startsWith(p.toLowerCase())})).map((function(e){return Object(c.jsxs)("li",{children:[e.name," ",e.number,Object(c.jsx)("button",{onClick:function(){return t=e.id,void(window.confirm("Delete ".concat(n.find((function(e){return e.id===t})).name,"?"))&&h(t).then((function(e){200===e.status&&b().then((function(e){i(e)}))})));var t},children:"Delete"})]},e.name)}))})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};u.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),m()}},[[39,1,2]]]);
//# sourceMappingURL=main.730d522c.chunk.js.map